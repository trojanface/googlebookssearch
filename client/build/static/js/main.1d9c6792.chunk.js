(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,a){e.exports=a(61)},36:function(e,t,a){},37:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(24),c=a.n(o),r=(a(36),a(37),a(38),a(27)),i=a(1),s=a(25),m=a(26),u=a(30),d=a(29),v=a(10),E=a.n(v),f={getBooks:function(){return E.a.get("/api/books")},findBooksGoogle:function(e){return E.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},addBook:function(e){console.log(e.description);var t="";return void 0!==e.authors?(console.log("true"),t=e.authors.length>1?e.authors.join():e.authors[0]):(console.log("false"),t="Unknown"),E.a.post("/api/books",{title:e.title,author:t,synopsis:e.description,link:e.link,image:e.thumbnail})},deleteBook:function(e){return E.a.delete("/api/books/".concat(e))}},h=(n.Component,a(9));function b(){return l.a.createElement("div",null,l.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("a",{class:"navbar-brand",href:"#"},"Tome Raider"),l.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{class:"navbar-toggler-icon"})),l.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{class:"navbar-nav mr-auto mb-2 mb-lg-0"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link","aria-current":"page",href:"/"},"Search for a tome")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/saved"},"Your saved tomes")))))))}function p(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"card mb-3"},l.a.createElement("div",{className:"row g-0"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",null,l.a.createElement("img",{src:e.thumbnail,alt:"An image of ".concat(e.title)})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary mt-2",onClick:e.isSearch?function(){e.saveBook(e)}:function(){e.deleteBook(e)}},e.isSearch?"Save to your list":"Remove from list"))),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},e.title),l.a.createElement("p",{className:"card-text"},e.authors?" ".concat(e.authors.map((function(e,t){return e}))):" Unknown"),l.a.createElement("p",{className:"card-text"},e.description),l.a.createElement("h5",null,l.a.createElement("a",{target:"_blank",href:e.link},"View here")))))))}function g(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],o=t[1];function c(){f.getBooks().then((function(e){console.log(e.data),o(e.data)})).catch((function(e){console.log(e)}))}function r(e){console.log(e.id),f.deleteBook(e.id).then(c())}return Object(n.useEffect)((function(){c()}),[]),l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Your Saved Tomes"),l.a.createElement("ul",{style:{listStyle:"none"}},a.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement(p,{id:e._id,isSearch:!1,deleteBook:r,title:e.title,thumbnail:e.image,description:e.synopsis,authors:[e.author],link:e.link})," ")})))))}function k(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),r=Object(h.a)(c,2),i=r[0],s=r[1];function m(e){f.addBook(e)}return Object(n.useEffect)((function(){console.log(a)}),[a]),l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{class:"mb-3"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f.findBooksGoogle(i).then((function(e){o(e.data.items)})).catch((function(e){console.log(e)}))}},l.a.createElement("h1",null,"Find a hefty tome"),l.a.createElement("input",{type:"text",class:"form-control",value:i,onChange:function(e){s(e.target.value)},placeholder:"Search by title"}),l.a.createElement("div",{class:"col-auto"},l.a.createElement("button",{type:"submit",class:"btn btn-primary mt-2 mb-3"},"Search")))),l.a.createElement("h3",null,"Search Results:"),l.a.createElement("ul",{style:{listStyle:"none"}},a.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement(p,{isSearch:!0,saveBook:m,title:e.volumeInfo.title,thumbnail:e.volumeInfo.imageLinks.smallThumbnail,description:e.volumeInfo.description,authors:e.volumeInfo.authors,link:e.volumeInfo.canonicalVolumeLink}))})))))}var S=function(){return l.a.createElement(r.a,null,l.a.createElement("div",null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/"},l.a.createElement(k,null)),l.a.createElement(i.a,{path:"/saved"},l.a.createElement(g,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.1d9c6792.chunk.js.map